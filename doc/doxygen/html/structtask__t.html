<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>bTool: task_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bTool
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structtask__t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">task_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a760a32c332e502fe421256fce4f7d9d8"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#a760a32c332e502fe421256fce4f7d9d8">stackPointer</a></td></tr>
<tr class="separator:a760a32c332e502fe421256fce4f7d9d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f71b4873dad334e5ec93aec6cea1d23"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#a5f71b4873dad334e5ec93aec6cea1d23">prioClass</a></td></tr>
<tr class="separator:a5f71b4873dad334e5ec93aec6cea1d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab0b83e3ec3a3b0d61919a926ee3d26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rtos_8h.html#a3e12c5d9135209b870ca71628179beb3">rtos_taskFunction_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#a4ab0b83e3ec3a3b0d61919a926ee3d26">taskFunction</a></td></tr>
<tr class="separator:a4ab0b83e3ec3a3b0d61919a926ee3d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d0bc5a3a13ceef1c9036d56efe280d"><td class="memItemLeft" align="right" valign="top">uintTime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#a18d0bc5a3a13ceef1c9036d56efe280d">timeDueAt</a></td></tr>
<tr class="separator:a18d0bc5a3a13ceef1c9036d56efe280d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5edd85b979fc31ec0b53347a0e67429c"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#a5edd85b979fc31ec0b53347a0e67429c">pStackArea</a></td></tr>
<tr class="separator:a5edd85b979fc31ec0b53347a0e67429c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1781e9cc344b34a0ba6f6a896c6ed93"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#ad1781e9cc344b34a0ba6f6a896c6ed93">stackSize</a></td></tr>
<tr class="separator:ad1781e9cc344b34a0ba6f6a896c6ed93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c3ac52ea96b6ed2478df36a9b1906f"><td class="memItemLeft" align="right" valign="top">uintTime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#ab3c3ac52ea96b6ed2478df36a9b1906f">cntDelay</a></td></tr>
<tr class="separator:ab3c3ac52ea96b6ed2478df36a9b1906f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf032c29bc60c586e9a33d91b21f6fa4"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#aaf032c29bc60c586e9a33d91b21f6fa4">postedEventVec</a></td></tr>
<tr class="separator:aaf032c29bc60c586e9a33d91b21f6fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e84a1442746b4c7816fd15fff75baf"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#ab1e84a1442746b4c7816fd15fff75baf">eventMask</a></td></tr>
<tr class="separator:ab1e84a1442746b4c7816fd15fff75baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40beda2a55d5826268c79600bcce72a1"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#a40beda2a55d5826268c79600bcce72a1">waitForAnyEvent</a></td></tr>
<tr class="separator:a40beda2a55d5826268c79600bcce72a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad116bccdc9e4c60355b6200a862db78a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtask__t.html#ad116bccdc9e4c60355b6200a862db78a">cntOverrun</a></td></tr>
<tr class="separator:ad116bccdc9e4c60355b6200a862db78a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The descriptor of any task. Contains static information like task priority class and dynamic information like received events, timer values etc. This type is invisible to the RTuinOS application code. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Some members of the struct are not used by the kernel at runtime, e.g. the pointer to the task function or the definition of the stack area. These elements or parts of them could be placed into a second array such that the remaining data structure had a size which is a power of 2. (Maybe with a few padding bytes.) This would speed-up - and maybe significantly - the address computations the kernel often has to do when accessing the task information. </dd></dl>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="ab3c3ac52ea96b6ed2478df36a9b1906f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintTime_t cntDelay</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The timer tic decremented counter triggering the task local delay-timer event.<br/>
 The initial value determines at which system timer tic the task becomes due the very first time. This may always by 1 (task becomes due immediately). In the use case of regular tasks it may however pay off to distribute the tasks on the time grid in order to avoid too many due tasks regularly at specific points in time. See documentation for more. </p>

</div>
</div>
<a class="anchor" id="ad116bccdc9e4c60355b6200a862db78a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t cntOverrun</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>All recognized overruns of the timing of this task are recorded in this variable. The access to this variable is considered atomic by the implementation, therefore no other type than 8 Bit must be used.<br/>
 Task overruns are defined only in the (typical) use case of regular real time tasks. In all other applications of a task this value is useless and undefined.<br/>
 </p>
<dl class="section remark"><dt>Remarks</dt><dd>Even for regular real time tasks, overruns can only be recognized with a certain probability, which depends on the range of the cyclic system timer. Find a discussion in the documentation of type uintTime_t. </dd></dl>

</div>
</div>
<a class="anchor" id="ab1e84a1442746b4c7816fd15fff75baf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t eventMask</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The mask of events which will make this task due. </p>

</div>
</div>
<a class="anchor" id="aaf032c29bc60c586e9a33d91b21f6fa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t postedEventVec</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The events posted to this task. </p>

</div>
</div>
<a class="anchor" id="a5f71b4873dad334e5ec93aec6cea1d23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t prioClass</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The priority class this task belongs to. Priority class 255 has the highest possible priority and the lower the value the lower the priority. </p>

</div>
</div>
<a class="anchor" id="a5edd85b979fc31ec0b53347a0e67429c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* pStackArea</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The pointer to the preallocated stack area of the task. The area needs to be available all the RTOS runtime. Therefore dynamic allocation won't pay off. Consider to use the address of any statically defined array. There's no alignment constraint. </p>

</div>
</div>
<a class="anchor" id="a760a32c332e502fe421256fce4f7d9d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t stackPointer</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The saved stack pointer of this task whenever it is not active.<br/>
 For optimization reasons, this element should come first. It's most often used in the core routines and can be addressed with less machine code if it has offset 0 inside the struct. </p>

</div>
</div>
<a class="anchor" id="ad1781e9cc344b34a0ba6f6a896c6ed93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t stackSize</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The size in Byte of the memory area <em>*pStackArea</em>, which is reserved as stack for the task. Each task may have an individual stack size. </p>

</div>
</div>
<a class="anchor" id="a4ab0b83e3ec3a3b0d61919a926ee3d26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rtos_8h.html#a3e12c5d9135209b870ca71628179beb3">rtos_taskFunction_t</a> taskFunction</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The task function as a function pointer. It is used once and only once: The task function is invoked the first time the task becomes active and must never end. A return statement would cause an immediate reset of the controller. </p>

</div>
</div>
<a class="anchor" id="a18d0bc5a3a13ceef1c9036d56efe280d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintTime_t timeDueAt</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The timer value triggering the task local absolute-timer event. </p>

</div>
</div>
<a class="anchor" id="a40beda2a55d5826268c79600bcce72a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean waitForAnyEvent</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do we need to wait for the first posted event or for all events? </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/Users/andrek/bTool/code/RTOS/<a class="el" href="rtos_8c.html">rtos.c</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structtask__t.html">task_t</a></li>
    <li class="footer">Generated on Wed Apr 2 2014 22:11:58 for bTool by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
